<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Interactive Tree</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      position: relative;
    }

    #viewport {
      width: 100vw;
      height: 100vh;
      background: #f8f9fa;
    }

    .node {
      font-family: sans-serif;
      font-size: 14px;
      background: white;
      border-radius: 6px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      width: auto;
      height: 100%;
      text-align: center;
    }

    .node h4 {
      margin: 0;
      font-size: 16px;
    }

    .collapse-btn {
      margin-top: 8px;
      padding: 3px 6px;
      font-size: 12px;
      border: none;
      background: #007bff;
      color: white;
      border-radius: 4px;
      cursor: pointer;
    }

    .collapse-btn:hover {
      background: #0056b3;
    }

    #reset-button {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 10px 20px;
      font-size: 16px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
  </style>
</head>
<body>
    
    <div id="treeContainer" style="width:100vw;height:100vh;"></div>
    <button id="reset-button">Reset</button>
    <!-- <script type="module" src="./dist/main.js"></script> -->
    <script type="module">
        import * as SVGTreeViewer from './dist/index.js';
      
        const data = [
          { cur_id: 1, user_id: null, data: { title: "Root", src: "#" } },
          { cur_id: 2, user_id: 1, data: { name: "Gean", title: "Child 1", src: "#" } },
          { cur_id: 3, user_id: 1, data: { title: "Child 2", src: "#" } },
          { cur_id: 4, user_id: 3, data: { title: "Child 3", src: "#" } },
          { cur_id: 5, user_id: 3, data: { title: "Child 4", src: "#" } },
          { cur_id: 6, user_id: 2, data: { title: "Child 5", src: "#" } },
        ];
      
        const template = `
          <div class="node">
            <h4>[data:name] [data:title]</h4>
            <a href="[data:src]">View</a>
          </div>
        `;
      
        const treeViewer = new SVGTreeViewer.SVGTreeViewer({
          containerId: "treeContainer",
          data: data,
          idAlias: "cur_id",
          parentIdAlias: "user_id",
          collapseChild: true,
          template: template,
          nodeWidth: 240,
          nodeHeight: 120,
          levelHeight: 160,
          horizontalSpacing: 320,
        });

        document.getElementById('reset-button')?.addEventListener('click', () => {
            treeViewer.resetNodePositions();
            treeViewer.centerTree();
            //treeViewer.resetView();
          });
      </script>
      

</body>
</html>
